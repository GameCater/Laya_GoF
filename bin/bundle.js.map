{
  "version": 3,
  "sources": ["../src/Bullet.ts", "../src/Camera2D.ts", "../src/Utils.ts", "../src/EnemyState.ts", "../src/Enemy.ts", "../src/State_FSM.ts", "../src/Command.ts", "../src/Observer.ts", "../src/Event.ts", "../src/ClassType.ts", "../src/Mediator.ts", "../src/Main.ts", "../src/MainUIRT.generated.ts", "../src/MainUIRT.ts", "../src/Player.ts"],
  "sourcesContent": ["var __decorate = __$decorate('8f172430-d004-4d82-b2d3-3485a7f5e6eb', '../src/Bullet.ts');\nconst { regClass } = Laya;\r\nlet Bullet = class Bullet extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.time = 1000;\r\n        this.curTime = 0;\r\n        this.isDestoryed = false;\r\n        this.damage = 5;\r\n    }\r\n    onAwake() {\r\n        this.self = this.owner;\r\n        this.rgBody = this.self.getComponent(Laya.RigidBody);\r\n    }\r\n    onUpdate() {\r\n        if (this.isDestoryed)\r\n            return;\r\n        this.curTime += Laya.timer.delta;\r\n        if (this.curTime > this.time) {\r\n            this.destroySelf();\r\n        }\r\n    }\r\n    destroySelf() {\r\n        this.curTime = 0;\r\n        this.isDestoryed = true;\r\n        this.rgBody.setVelocity({ x: 0, y: 0 });\r\n        this.self.removeSelf();\r\n        Laya.Pool.recover('Bullet', this.self);\r\n    }\r\n    move(direction) {\r\n        if (!this.isDestoryed && this.curTime < this.time) {\r\n            this.rgBody.setVelocity({ x: direction[0], y: direction[1] });\r\n        }\r\n    }\r\n    onTriggerEnter(other) {\r\n        if (other.owner.name === 'Enemy') {\r\n            this.destroySelf();\r\n            other.owner.event('Damage', this.damage);\r\n        }\r\n    }\r\n    onDestroy() {\r\n        super.destroy();\r\n    }\r\n};\r\nBullet = __decorate([\r\n    regClass()\r\n], Bullet);\r\nexport default Bullet;\r\n", "var __decorate = __$decorate('a3874742-8b74-4d07-8883-4756f44fcb18', '../src/Camera2D.ts');\nvar _a;\r\nconst { regClass, property } = Laya;\r\nlet Camera2D = class Camera2D extends Laya.Sprite {\r\n    constructor(target, x = 0, y = 0, width = 640, height = 360) {\r\n        super();\r\n        this.width = width;\r\n        this.height = height;\r\n        this.graphics.drawRect(x, y, width, height, '#fff');\r\n        this.pos(x, y);\r\n        this.target = target;\r\n        this.updateCamera();\r\n    }\r\n    updateCamera() {\r\n        this.graphics.clear();\r\n    }\r\n};\r\nCamera2D = __decorate([\r\n    regClass(),\r\n    __metadata(\"design:paramtypes\", [typeof (_a = typeof Laya !== \"undefined\" && Laya.Sprite) === \"function\" ? _a : Object, Number, Number, Number, Number])\r\n], Camera2D);\r\nexport { Camera2D };\r\n", "\r\nexport class Vector {\r\n  private x: number = 0;\r\n  private y: number = 0;\r\n  constructor(x?: number, y?: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  static distance(vec1: Vector, vec2: Vector): number {\r\n    return Math.sqrt(Math.pow(vec1.x - vec2.x, 2) + Math.pow(vec1.y - vec2.y, 2));\r\n  }\r\n\r\n}", "import Enemy from \"./Enemy\";\r\nimport Player from \"./Player\";\r\nimport { Vector } from \"./Utils\";\r\n\r\nexport class State {\r\n    onUpdate(enemy: Enemy, player: Player) {\r\n\r\n    }\r\n\r\n    enter(enemy: Enemy): void {\r\n\r\n    }\r\n\r\n    exit(enemy: Enemy): void {\r\n\r\n    }\r\n}\r\n\r\nexport class PassiveState extends State {\r\n    override onUpdate(enemy: Enemy, player: Player): void {\r\n        const enemy_position = new Vector((enemy.owner as Laya.Sprite).x, (enemy.owner as Laya.Sprite).y);\r\n        const player_position = new Vector((player.owner as Laya.Sprite).x, (player.owner as Laya.Sprite).y);\r\n\r\n        if (enemy.health >= 80 && Vector.distance(enemy_position, player_position) <= enemy.scanDistance) {\r\n            enemy.state = new ActiveState();\r\n            enemy.state.enter(enemy);\r\n        } else if (enemy.health < 80 && Vector.distance(enemy_position, player_position) <= enemy.scanDistance) {\r\n            enemy.state = new DefensiveState();\r\n            enemy.state.enter(enemy);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * \u6839\u636E\u6982\u7387\u51B3\u5B9Aai\u505A\u4EC0\u4E48\r\n     */\r\n    do() {\r\n        let randNum = Math.floor(Math.random() * 100);\r\n        let dayTime = Math.floor(Math.random() * 2);\r\n\r\n        switch(dayTime) {\r\n            case DayTime.MorningTime:\r\n                if (randNum < 3) {\r\n                    console.log('\u5DE1\u903B');\r\n                } else if (randNum < 10) {\r\n                    console.log('\u5403\u996D');\r\n                } else {\r\n                    console.log('\u5B88\u536B');\r\n                }\r\n                break;\r\n            case DayTime.AfterNoonTime:\r\n                if (randNum < 20) {\r\n                    console.log('\u8D70\u52A8');\r\n                } else if (randNum < 32) {\r\n                    console.log('\u5403\u996D');\r\n                } else {\r\n                    console.log('\u5B88\u536B');\r\n                }\r\n                break;\r\n            case DayTime.NightTime:\r\n                if (randNum < 25) {\r\n                    console.log('\u8D70\u52A8');\r\n                } else if (randNum < 40) {\r\n                    console.log('\u5403\u996D');\r\n                } else {\r\n                    console.log('\u5B88\u536B');\r\n                }\r\n        }\r\n    }\r\n    \r\n    enter(enemy: Enemy): void {\r\n        console.log('\u8FDB\u5165\u88AB\u52A8\u9ED8\u8BA4\u72B6\u6001');\r\n\r\n        this.do();\r\n    }\r\n}\r\n\r\nexport class ActiveState extends State {\r\n    onUpdate(enemy: Enemy, player: Player): void {\r\n        const enemy_position = new Vector((enemy.owner as Laya.Sprite).x, (enemy.owner as Laya.Sprite).y);\r\n        const player_position = new Vector((player.owner as Laya.Sprite).x, (player.owner as Laya.Sprite).y);\r\n\r\n        if (enemy.health >= 80 && Vector.distance(enemy_position, player_position) >= enemy.scanDistance) {\r\n            enemy.state = new PassiveState();\r\n            enemy.state.enter(enemy);\r\n        } else if (enemy.health < 80 && Vector.distance(enemy_position, player_position) < enemy.scanDistance) {\r\n            enemy.state = new DefensiveState();\r\n            enemy.state.enter(enemy);\r\n        }\r\n\r\n        this.follow(enemy, player);\r\n    }\r\n\r\n    enter(enemy: Enemy): void {\r\n        console.log('\u8FDB\u5165\u653B\u51FB\u72B6\u6001');\r\n    }\r\n\r\n    private follow(enemy: Enemy, player: Player) {\r\n        Laya.Tween.to(enemy.owner, { x: (player.owner as Laya.Sprite).x, y: (player.owner as Laya.Sprite).y }, 1000);\r\n    }\r\n}\r\n\r\nexport class DefensiveState extends State {\r\n    onUpdate(enemy: Enemy, player: Player): void {\r\n        const enemy_position = new Vector((enemy.owner as Laya.Sprite).x, (enemy.owner as Laya.Sprite).y);\r\n        const player_position = new Vector((player.owner as Laya.Sprite).x, (player.owner as Laya.Sprite).y);\r\n\r\n        if (Vector.distance(enemy_position, player_position) >= enemy.scanDistance) {\r\n            enemy.state = new PassiveState();\r\n            enemy.state.enter(enemy);\r\n        } else if (enemy.health >= 80) {\r\n            enemy.state = new ActiveState();\r\n            enemy.state.enter(enemy);\r\n        }\r\n    }\r\n\r\n    enter(enemy: Enemy): void {\r\n        console.log('\u8FDB\u5165\u9632\u5FA1\u72B6\u6001');\r\n    }\r\n}\r\n\r\nenum DayTime {\r\n    MorningTime,\r\n    AfterNoonTime,\r\n    NightTime\r\n}", "var __decorate = __$decorate('12843c7a-55a3-4124-bf12-0e47353d5c5a', '../src/Enemy.ts');\nvar _a;\r\nimport { PassiveState } from \"./EnemyState\";\r\nconst { regClass, property } = Laya;\r\nlet Enemy = class Enemy extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.health = 100;\r\n        this.state = new PassiveState();\r\n        this.scanDistance = 200;\r\n    }\r\n    onAwake() {\r\n        this.animator = this.owner.getComponent(Laya.Animator2D);\r\n    }\r\n    onEnable() {\r\n        this.owner.on('Damage', this, this.handleDamage);\r\n        this.health = 100;\r\n        this.state = new PassiveState();\r\n        this.animator.setParamsBool('Death', false);\r\n    }\r\n    handleDamage(damage) {\r\n        this.health -= damage;\r\n        if (this.health < 0) {\r\n            // todo \u6B7B\u4EA1\u52A8\u753B\u7684\u5EF6\u8FDF\u663E\u793A\r\n            this.animator.setParamsBool('Death', true);\r\n            this.owner.removeSelf();\r\n            Laya.Pool.recover('Enemy', this.owner);\r\n            Laya.timer.once(2000, this, () => {\r\n                let newEnemy = Laya.Pool.getItem('Enemy');\r\n                newEnemy.pos(Math.random() * Laya.stage.width, Math.random() * Laya.stage.height);\r\n                Laya.stage.addChild(newEnemy);\r\n            });\r\n        }\r\n    }\r\n    onUpdate() {\r\n        if (this.player) {\r\n            this.state.onUpdate(this, this.player.getComponent(Laya.Script));\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    property(),\r\n    __metadata(\"design:type\", typeof (_a = typeof Laya !== \"undefined\" && Laya.Sprite) === \"function\" ? _a : Object)\r\n], Enemy.prototype, \"player\", void 0);\r\nEnemy = __decorate([\r\n    regClass()\r\n], Enemy);\r\nexport default Enemy;\r\n", "import { Actor } from \"./Command\";\r\n\r\nexport enum State {\r\n    STATE_STANDING,\r\n    STATE_JUMPING,\r\n    STATE_DUCKING,\r\n    STATE_DIVING\r\n}\r\n\r\n// \u72B6\u6001\u6A21\u5F0F\r\nexport class ActorState {\r\n    onKeyDown(evt: Laya.Event, actor: Actor): void {\r\n        \r\n    }\r\n\r\n    onUpdate(actor: Actor): void {\r\n        \r\n    }\r\n\r\n    enter(actor: Actor): void {\r\n\r\n    }\r\n\r\n    exit(actor: Actor): void {\r\n\r\n    }\r\n}\r\n\r\nexport class StandingState extends ActorState {\r\n\r\n    onKeyDown(evt: Laya.Event, actor: Actor): void {\r\n        if (evt.key.toLowerCase() === ' ') {\r\n            actor.state = new JumpingState();\r\n            console.log('\u7AD9\u7ACB->\u8DF3\u8DC3');\r\n\r\n            actor.state.exit(actor);\r\n\r\n        } else if (evt.key.toLowerCase() === 's') {\r\n            actor.state = new DuckingState();\r\n            console.log('\u7AD9\u7ACB->\u95EA\u907F');\r\n\r\n            actor.state.exit(actor);\r\n            \r\n        }\r\n    }\r\n\r\n    enter(): void {\r\n        // \u5904\u7406sprite\u5207\u6362\u7B49\u5176\u4ED6\u884C\u4E3A\r\n    }\r\n\r\n    exit(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class JumpingState extends ActorState {\r\n    onKeyDown(evt: Laya.Event, actor: Actor): void {\r\n        if (evt.key.toLowerCase() === 's') {\r\n            actor.state = new DivingState();\r\n            console.log('\u8DF3\u8DC3->\u4FEF\u51B2');\r\n        }\r\n    }\r\n\r\n    override exit(actor: Actor): void {\r\n        Laya.timer.once(2000, this, () => {\r\n            actor.state = new StandingState();\r\n            console.log('\u8DF3\u8DC3->\u7AD9\u7ACB');\r\n        })\r\n    }\r\n}\r\n\r\nexport class DuckingState extends ActorState {\r\n\r\n    private time: number = 0;\r\n    private MAX_TIME = 1500;\r\n\r\n    override onUpdate(actor: Actor): void {\r\n        this.time += Laya.timer.delta;\r\n        if (this.time > this.MAX_TIME) {\r\n            actor.fire();\r\n            this.time = 0;\r\n        }\r\n    }\r\n\r\n    override exit(actor: Actor): void {\r\n        Laya.timer.once(2000, this, () => {\r\n            actor.state = new StandingState();\r\n            console.log('\u95EA\u907F->\u7AD9\u7ACB');\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport class DivingState extends ActorState {\r\n\r\n}", "import { ActorState, StandingState, State } from \"./State_FSM\";\r\n\r\nexport class Command {\r\n    execute(actor: Actor) {\r\n        actor.action();\r\n    }\r\n\r\n    undo() {\r\n\r\n    }\r\n}\r\n\r\nexport class MoveCommand extends Command {\r\n    execute(actor: Actor): void {\r\n        console.log('Move command');\r\n        super.execute(actor);\r\n    }\r\n}\r\n\r\nexport class JumpCommand extends Command {\r\n    execute(actor: Actor): void {\r\n        console.log('Jump command');\r\n        super.execute(actor);\r\n    }\r\n}\r\n\r\nexport class Actor {\r\n    private x: number;\r\n    private y: number;\r\n\r\n    state: ActorState = new StandingState();\r\n\r\n    public action() {\r\n        console.log('\u6E38\u620F\u7269\u4F53\u884C\u4E3A');\r\n    }\r\n\r\n    fire() {\r\n        console.log('\u84C4\u80FD\u540E\u7684\u653B\u51FB\u6CE2');\r\n    }\r\n\r\n    onKeyDown(evt: Laya.Event): void {\r\n        this.state.onKeyDown(evt, this);\r\n    }\r\n\r\n    onUpdate(): void {\r\n        this.state.onUpdate(this);\r\n    }\r\n}\r\n", "export class Observer {\r\n    name: string = 'observer';\r\n    public onNotified(sub: Subject, event: string): void {\r\n        console.log(this.name);\r\n        // switch(event) {\r\n        //     case MyEvent.EVT_JUMP: \r\n        //         console.log('\u8DF3\u8DC3\u4E8B\u4EF6');\r\n        //         break;\r\n        //     case MyEvent.EVT_RUN:\r\n        //         console.log('\u5954\u8DD1\u4E8B\u4EF6');\r\n        //         break;\r\n        //     default:\r\n        //         console.log('\u5176\u4ED6\u672A\u77E5\u4E8B\u4EF6');\r\n        // }\r\n    }\r\n}\r\n\r\nexport class Subject {\r\n    private observers: Observer[] = [];\r\n    name: string = 'Subject';\r\n\r\n    addObserver(ob: Observer) {\r\n        console.log('\u6DFB\u52A0\u65B0\u89C2\u5BDF\u8005' + ob.name);\r\n        this.observers.push(ob);\r\n    }\r\n\r\n    removeObserver(ob: Observer) {\r\n        console.log('\u79FB\u9664\u89C2\u5BDF\u8005' + ob.name);\r\n        let idx = -1;\r\n        for (let i = 0; i < this.observers.length; i ++) {\r\n            if (ob.name === this.observers[i].name) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n        this.observers.splice(idx, 1);\r\n    }\r\n\r\n    notifyAll(evt: string): void {\r\n        for (let ob of this.observers) {\r\n            (ob as Observer).onNotified(this, evt);\r\n        }\r\n    }\r\n}\r\n\r\nexport enum MyEvent {\r\n    'EVT_JUMP'= 'jump',\r\n    'EVT_RUN'= 'run',\r\n}\r\n\r\nexport class A_Observer extends Observer {\r\n    name: string = 'A';\r\n    override onNotified(sub: Subject, event: string): void {\r\n        super.onNotified(sub, event);\r\n        switch(event) {\r\n            case MyEvent.EVT_JUMP:\r\n                console.log('\u89E3\u9501\u8DF3\u8DC3\u6210\u5C31');\r\n                break;\r\n            case MyEvent.EVT_RUN:\r\n                console.log('\u89E3\u9501\u5954\u8DD1\u6210\u5C31');\r\n                break;\r\n        }\r\n    }\r\n}\r\n\r\nexport class B_Observer extends Observer {\r\n    name: string = 'B';\r\n    override onNotified(sub: Subject, event: string): void {\r\n        super.onNotified(sub, event);\r\n        switch(event) {\r\n            case MyEvent.EVT_JUMP:\r\n                console.log('\u64AD\u653E\u8DF3\u8DC3\u97F3\u6548');\r\n                break;\r\n            case MyEvent.EVT_RUN:\r\n                console.log('\u64AD\u653E\u5954\u8DD1\u97F3\u6548');\r\n                break;\r\n        }\r\n    }\r\n}", "export default class Event {\r\n    private listeners: { [propname: string]: Listener[] } = {};\r\n    private static instance: Event;\r\n\r\n    private constructor() {}\r\n\r\n    // \u5355\u4F8B\u6A21\u5F0F\r\n    static getInstance(): Event {\r\n        if (!Event.instance) {\r\n            Event.instance = new Event();\r\n        }\r\n        return Event.instance;\r\n    }\r\n\r\n    on(event: string, listener: Listener): void {\r\n        if (!this.listeners[event]) {\r\n            this.listeners[event] = [];\r\n        } \r\n        this.listeners[event].push(listener);\r\n    }\r\n\r\n    emit(event: string, data: any): void {\r\n        const callbacks = this.listeners[event];\r\n        if (callbacks) {\r\n            callbacks.forEach(c => {\r\n                c(data);\r\n            });\r\n        } \r\n    }\r\n\r\n}\r\n\r\n/**\r\n * \u8BC6\u522B\u662F\u5426\u662F\u4E8B\u4EF6\u4E2D\u5FC3\u6CE8\u518C\u7684\u56DE\u8C03\u51FD\u6570\r\n */\r\nexport interface Listener {\r\n    (data: any): void;\r\n}", "export class Breed {\r\n\r\n    _health: number = 100;\r\n    _attack: string = '\u653B\u51FB\u6CE2';\r\n    private _parent: Breed = null;\r\n\r\n    constructor(parent?: Breed, health?: number, attack?: string) {\r\n        if (parent != null) {\r\n            this._parent = parent;\r\n\r\n            this._health = parent._health;\r\n            this._attack = parent._attack;\r\n        }\r\n\r\n        if (health) {\r\n            this._health = health;\r\n        }\r\n        if (attack) {\r\n            this._attack = attack;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u751F\u6210\u602A\u7269\u7684\u5DE5\u5382\u51FD\u6570\r\n     * @param breed \u602A\u7269\u7684\u79CD\u65CF\r\n     */\r\n    newMonster(): Monster {\r\n        return new Monster(this);\r\n    }\r\n}\r\n\r\nexport class Monster {\r\n\r\n    private _breed: Breed;\r\n\r\n    constructor(breed: Breed) {\r\n        this._breed = breed;\r\n    }\r\n\r\n    get health() {\r\n        return this._breed._health;\r\n    }\r\n\r\n    get attack() {\r\n        return this._breed._attack;\r\n    }\r\n}", "export interface IMediator {\r\n    register(client: IClient): void;\r\n    notice(from: IClient, message: string): void;\r\n}\r\n\r\nexport class Mediator implements IMediator {\r\n\r\n    private clients: IClient[] = [];\r\n    register(client: IClient): void {\r\n        for (let i = 0; i < this.clients.length; i ++) {\r\n            if (this.clients[i] === client) {\r\n                return;\r\n            }\r\n        }\r\n        this.clients.push(client);\r\n    }\r\n\r\n    notice(from: IClient, message: string): void {\r\n        this.clients.forEach(c => {\r\n            if (from !== c)\r\n                c.receiveMessage(message);\r\n        })\r\n    }\r\n}\r\n\r\nexport interface IClient {\r\n    sendMessage(message: string): void;\r\n    receiveMessage(message: string): void;\r\n}\r\n\r\nexport class Client implements IClient {\r\n    private mediator: IMediator;\r\n    private name: string;\r\n\r\n    constructor(mediator: IMediator, name: string) {\r\n        this.mediator = mediator;\r\n        this.name = name;\r\n    }\r\n\r\n    sendMessage(message: string): void {\r\n        console.log(this.name + ' \u53D1\u9001\uFF1A' + message);\r\n        this.mediator.notice(this, message);\r\n    }\r\n\r\n    receiveMessage(message: string): void {\r\n        console.log(this.name + ' \u63A5\u6536\uFF1A' + message);\r\n    }\r\n}", "var __decorate = __$decorate('7bad1742-6eed-4d8d-81c0-501dc5bf03d6', '../src/Main.ts');\nimport { Actor } from \"./Command\";\r\nimport { A_Observer, B_Observer, MyEvent, Subject } from \"./Observer\";\r\nimport Event from \"./Event\";\r\nimport { State } from \"./State_FSM\";\r\nimport { Breed } from \"./ClassType\";\r\nimport { Client, Mediator } from \"./Mediator\";\r\nimport { Camera2D } from \"./Camera2D\";\r\nconst { regClass, property } = Laya;\r\nlet Main = class Main extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._state = State.STATE_STANDING;\r\n        /** \u95EA\u907F\u540E\u84C4\u80FD\u65F6\u95F4 */\r\n        this.time = 0;\r\n    }\r\n    initialUI() {\r\n        this.ui = this.owner.scene;\r\n        this.ui.baseUI(this.ui);\r\n    }\r\n    onStart() {\r\n        console.log('Game start');\r\n        Laya.stage.on(Laya.Event.KEY_DOWN, this, this.handleKeyDown);\r\n        // Laya.stage.focus = this.owner;\r\n        // \u547D\u4EE4\u6A21\u5F0F\r\n        this.actor = new Actor();\r\n        // \u89C2\u5BDF\u8005\u6A21\u5F0F\r\n        let ob_a = new A_Observer();\r\n        let ob_b = new B_Observer();\r\n        let sub = new Subject();\r\n        sub.addObserver(ob_a);\r\n        sub.addObserver(ob_b);\r\n        sub.notifyAll(MyEvent.EVT_JUMP);\r\n        sub.removeObserver(ob_a);\r\n        sub.notifyAll(MyEvent.EVT_RUN);\r\n        // \u53D1\u5E03\u8005-\u8BA2\u9605\u8005\u6D88\u606F\u6A21\u5F0F\r\n        this.bus = Event.getInstance();\r\n        this.bus.on('Jump', (data) => {\r\n            console.log('Jump\u4E8B\u4EF6\u88AB\u89E6\u53D1: ' + data);\r\n        });\r\n        // \u7C7B\u578B\u5BF9\u8C61\r\n        let none = new Breed();\r\n        let Alice = none.newMonster();\r\n        console.log('Alice:', Alice.health, Alice.attack);\r\n        let goblin = new Breed(null, 50, '\u666E\u901A\u653B\u51FB');\r\n        let Joe = goblin.newMonster();\r\n        console.log('Joe:', Joe.health, Joe.attack);\r\n        let goblinWizard = new Breed(goblin, 0, '\u706B\u7130\u5F39');\r\n        let Yoh = goblinWizard.newMonster();\r\n        console.log('Yoh:', Yoh.health, Yoh.attack);\r\n        // \u4E2D\u4ECB\u8005\u6A21\u5F0F \u6A21\u62DF\u804A\u5929\u5BA4\r\n        let mediator = new Mediator();\r\n        let clientA = new Client(mediator, 'clientA');\r\n        let clientB = new Client(mediator, 'clientB');\r\n        let clientC = new Client(mediator, 'clientC');\r\n        mediator.register(clientA);\r\n        mediator.register(clientB);\r\n        mediator.register(clientC);\r\n        clientA.sendMessage('ClientA enter');\r\n        this.initialUI();\r\n        // tiledMap\r\n        // let tiledmap = new Laya.TiledMap().createMap('resources/tiledMap/orthogonal-outside.json', new Laya.Rectangle(), Laya.Handler.create(this, () => {\r\n        //     Laya.stage.addChild((tiledmap as unknown as Laya.TiledMap).mapSprite());\r\n        // }))\r\n        this.tiledMap = new Laya.TiledMap();\r\n        // this.tiledMap.createMap('resources/tiledMap/orthogonal-outside.json', new Laya.Rectangle(0, 0, Laya.stage.width, Laya.stage.height), Laya.Handler.create(this, this.onMapCreated));\r\n        let player = this.owner.getChildByName('Player');\r\n        this.camera = new Camera2D(player);\r\n        Laya.stage.addChild(this.camera);\r\n        console.log(this.owner);\r\n        console.log(Laya.stage);\r\n    }\r\n    onMapCreated() {\r\n        this.tiledMap.mapSprite().removeSelf();\r\n        this.tiledMap.setViewPortPivotByScale(0, 0);\r\n        this.tiledMap.scale = Laya.stage.height / this.tiledMap.width;\r\n        Laya.stage.addChild(this.tiledMap.mapSprite());\r\n    }\r\n    handleKeyDown(evt) {\r\n        /*\r\n        \u6309\u952E->\u72B6\u6001\r\n        if (evt.key.toLowerCase() === 'd') {\r\n            let moveCmd: Command = new MoveCommand();\r\n            moveCmd.execute(this.actor);\r\n        }\r\n        if (evt.key.toLowerCase() === ' ') {\r\n            let jumpCmd: Command = new JumpCommand();\r\n            jumpCmd.execute(this.actor);\r\n\r\n            this.bus.emit('Jump', 'data');\r\n        }\r\n        */\r\n        // \u72B6\u6001\u673A\r\n        // \u72B6\u6001->\u6309\u952E\r\n        // switch(this._state) {\r\n        //     case State.STATE_STANDING:\r\n        //         if (evt.key.toLowerCase() === ' ') {\r\n        //             this._state = State.STATE_JUMPING;\r\n        //             console.log('\u7AD9\u7ACB->\u8DF3\u8DC3');\r\n        //             Laya.timer.once(2000, this, () => {\r\n        //                 this._state = State.STATE_STANDING;\r\n        //                 console.log('\u8DF3\u8DC3->\u7AD9\u7ACB');\r\n        //             })\r\n        //         } else if (evt.key.toLowerCase() === 's') {\r\n        //             // \u518D\u6B21\u95EA\u907F\u65F6\uFF0C\u91CD\u7F6E\u84C4\u80FD\u65F6\u95F4\r\n        //             this.time = 0;\r\n        //             this._state = State.STATE_DUCKING;\r\n        //             console.log('\u7AD9\u7ACB->\u95EA\u907F');\r\n        //             Laya.timer.once(2000, this, () => {\r\n        //                 this._state = State.STATE_STANDING;\r\n        //                 console.log('\u95EA\u907F->\u7AD9\u7ACB');\r\n        //             })\r\n        //         }\r\n        //         break;\r\n        //     case State.STATE_DUCKING:\r\n        //         break;\r\n        //     case State.STATE_JUMPING:\r\n        //         if (evt.key.toLowerCase() === 's') {\r\n        //             this._state = State.STATE_DIVING;\r\n        //             console.log('\u8DF3\u8DC3->\u4FEF\u51B2');\r\n        //         }\r\n        //         break;\r\n        //     case State.STATE_DIVING:\r\n        //         break;\r\n        // }\r\n        // \u72B6\u6001\u6A21\u5F0F\r\n        // this.actor.onKeyDown(evt);\r\n    }\r\n    onUpdate() {\r\n        this.camera.updateCamera();\r\n        this.actor.onUpdate();\r\n    }\r\n};\r\nMain.MAX_TIME = 1500;\r\nMain = __decorate([\r\n    regClass()\r\n], Main);\r\nexport { Main };\r\n", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * Scene.ls\n */\nexport class MainUIRTBase extends Laya.Scene {\n    public Player: Laya.Sprite;\n    public list_enemies: Laya.List;\n}\n\n", "var __decorate = __$decorate('f93993db-43e8-4700-a9dc-bcbdf7a23edb', '../src/MainUIRT.ts');\nimport { MainUIRTBase } from \"./MainUIRT.generated\";\r\nconst { regClass, property } = Laya;\r\nlet MainUI = class MainUI extends MainUIRTBase {\r\n    constructor() {\r\n        super();\r\n        this.prefabUrls = [\r\n            'Enemy.lh',\r\n            'EnemyPro.lh',\r\n        ];\r\n    }\r\n    baseUI(ui) {\r\n        this.list_enemies.array = this.prefabUrls;\r\n        this.list_enemies.itemRender = ListItem;\r\n        this.list_enemies.vScrollBarSkin = '';\r\n        this.list_enemies.renderHandler = Laya.Handler.create(this, (cell) => {\r\n            cell.init(this.Player);\r\n        }, null, false);\r\n    }\r\n};\r\nMainUI = __decorate([\r\n    regClass(),\r\n    __metadata(\"design:paramtypes\", [])\r\n], MainUI);\r\nexport { MainUI };\r\nclass ListItem extends Laya.Box {\r\n    set dataSource(data) {\r\n        this.enemyPrefabUrl = data;\r\n    }\r\n    constructor() {\r\n        super();\r\n        this.dragRegion = new Laya.Rectangle(0, 0, Laya.stage.width - 200, Laya.stage.height);\r\n        this.width = 144;\r\n        this.height = 144;\r\n        this.left = 28;\r\n        this.bgColor = '#eee';\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, (e) => {\r\n            // e.stageX\r\n            // \u62F7\u8D1D\u5BF9\u8C61\u8DDF\u968F\u9F20\u6807\u79FB\u52A8\r\n            if (this.copied) {\r\n                let x = Laya.stage.mouseX;\r\n                let y = Laya.stage.mouseY;\r\n                this.copied.pos(x, y);\r\n            }\r\n        });\r\n    }\r\n    init(player) {\r\n        // \u53D6\u5F97\u6E38\u620F\u821E\u53F0\u4E2D\u7684\u73A9\u5BB6\r\n        this.player = player;\r\n        Laya.loader.load(`resources/${this.enemyPrefabUrl}`).then((res) => {\r\n            let enemy = res.create();\r\n            enemy.left = this.width - enemy.width >> 1;\r\n            enemy.top = this.height - enemy.height >> 1;\r\n            this.child = enemy;\r\n            this.addChild(enemy);\r\n            this.child.on(Laya.Event.MOUSE_DOWN, this, (e) => {\r\n                this.handleMouseDown(e, res);\r\n            });\r\n            Laya.stage.on(Laya.Event.MOUSE_UP, this, this.handleMouseUp);\r\n        });\r\n    }\r\n    /**\r\n     * \u677E\u5F00\u65F6\u53D6\u6D88\u521B\u5EFA\u65B0\u7684\u654C\u4EBA\r\n     * @returns\r\n     */\r\n    handleMouseUp() {\r\n        if (!this.copied)\r\n            return;\r\n        // this.copied.destroy();\r\n        this.copied.getComponent(Laya.Script).player = this.player;\r\n        this.copied = null;\r\n    }\r\n    handleMouseDown(e, data) {\r\n        if (this.copied)\r\n            return;\r\n        this.copyTarget(e, data);\r\n    }\r\n    /**\r\n     * \u62F7\u8D1D\u4E00\u4EFD\r\n     */\r\n    copyTarget(e, res) {\r\n        if (this.copied)\r\n            return;\r\n        let copied = res.create().getChildAt(0);\r\n        copied.x = Laya.stage.mouseX - 10;\r\n        copied.y = Laya.stage.mouseY - 10;\r\n        this.copied = copied;\r\n        Laya.stage.addChild(this.copied);\r\n    }\r\n    onDestroy() {\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.handleMouseUp);\r\n        if (this.child) {\r\n            // this.child.off(Laya.Event.MOUSE_DOWN, this, this.onStartDrag);\r\n        }\r\n        super.destroy();\r\n    }\r\n}\r\n", "var __decorate = __$decorate('a51a9993-7212-4529-af9d-4d56a3c8a7a3', '../src/Player.ts');\nvar _a;\r\nconst { regClass, property } = Laya;\r\nlet Player = class Player extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.direction = [0, 1];\r\n    }\r\n    onAwake() {\r\n        Laya.stage.focus = this.owner;\r\n        this.self = this.owner;\r\n        this.rgBody = this.self.getComponent(Laya.RigidBody);\r\n    }\r\n    onKeyPress(evt) {\r\n        if (evt.key.toLowerCase() === 'w') {\r\n            this.rgBody.setVelocity({ x: 0, y: -this.speed });\r\n            this.direction = [0, -1];\r\n        }\r\n        else if (evt.key.toLowerCase() === 's') {\r\n            this.rgBody.setVelocity({ x: 0, y: this.speed });\r\n            this.direction = [0, 1];\r\n        }\r\n        else if (evt.key.toLowerCase() === 'a') {\r\n            this.rgBody.setVelocity({ x: -this.speed, y: 0 });\r\n            this.direction = [-1, 0];\r\n        }\r\n        else if (evt.key.toLowerCase() === 'd') {\r\n            this.rgBody.setVelocity({ x: this.speed, y: 0 });\r\n            this.direction = [1, 0];\r\n        }\r\n    }\r\n    onKeyDown(evt) {\r\n        if (evt.key.toLowerCase() === ' ') {\r\n            // \u53D1\u5C04\u5B50\u5F39\r\n            // let bullet: Laya.Sprite = this.bulletPrefab.create() as Laya.Sprite;\r\n            let bullet = Laya.Pool.getItemByCreateFun('Bullet', this.spawnBullet, this);\r\n            Laya.stage.addChild(bullet);\r\n            bullet.x = (this.self.width - bullet.width) / 2 + this.self.x + bullet.width / 2;\r\n            bullet.y = (this.self.height - bullet.height) / 2 + this.self.y + bullet.height / 2;\r\n            bullet.getComponent(Laya.Script).isDestoryed = false;\r\n            if (this.direction[0] !== 0) {\r\n                bullet.rotation = 0;\r\n            }\r\n            else if (this.direction[1]) {\r\n                bullet.rotation = 90;\r\n            }\r\n            bullet.getComponent(Laya.Script).move(this.direction.map(d => d * 10));\r\n        }\r\n    }\r\n    spawnBullet() {\r\n        console.log('bullet created');\r\n        let bullet = this.bulletPrefab.create();\r\n        return bullet;\r\n    }\r\n    onKeyUp(evt) {\r\n        this.rgBody.setVelocity({ x: 0, y: 0 });\r\n    }\r\n};\r\n__decorate([\r\n    property(),\r\n    __metadata(\"design:type\", Number)\r\n], Player.prototype, \"speed\", void 0);\r\n__decorate([\r\n    property(),\r\n    __metadata(\"design:type\", typeof (_a = typeof Laya !== \"undefined\" && Laya.Prefab) === \"function\" ? _a : Object)\r\n], Player.prototype, \"bulletPrefab\", void 0);\r\nPlayer = __decorate([\r\n    regClass()\r\n], Player);\r\nexport default Player;\r\n"],
  "mappings": "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",
  "names": ["Bullet", "__decorate", "regClass", "Camera2D", "DayTime", "__decorate", "_a", "regClass", "property", "Enemy", "__decorate", "regClass", "property", "Main", "__decorate", "regClass", "property", "MainUI", "__decorate", "_a", "regClass", "property", "Player"]
}
